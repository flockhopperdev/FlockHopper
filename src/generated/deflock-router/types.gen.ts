// This file is auto-generated by @hey-api/openapi-ts

export type Coordinate = {
  latitude: number;
  longitude: number;
};

export type RouteGeometry = {
  /**
   * Array of [longitude, latitude] pairs
   */
  coordinates: Array<[number, number]>;
  /**
   * Route distance in meters
   */
  distance: number;
  /**
   * Route duration in seconds
   */
  duration: number;
};

export type CameraOnRoute = {
  lat: number;
  lon: number;
  operator?: string;
  brand?: string;
  /**
   * Camera direction in degrees (0-360)
   */
  direction?: number;
  /**
   * Distance from the route in meters
   */
  distance_from_route: number;
  is_facing_route?: boolean;
};

export type NodeProfile = {
  id: string;
  name: string;
  /**
   * OSM tag key-value pairs identifying a camera type
   */
  tags: {
    [key: string]: string;
  };
};

export type RouteComparisonRequest = {
  origin: Coordinate;
  destination: Coordinate;
};

export type RouteComparisonResult = {
  /**
   * Camera-avoidance route
   */
  route: RouteGeometry;
  /**
   * Normal (shortest) route
   */
  normal_route: RouteGeometry;
  /**
   * Number of cameras avoided compared to normal route
   */
  cameras_avoided: number;
  /**
   * Percentage reduction in camera exposure
   */
  camera_reduction_percent: number;
  /**
   * Number of cameras on the normal route
   */
  normal_camera_count: number;
  /**
   * Number of cameras on the avoidance route
   */
  avoidance_camera_count: number;
  /**
   * Cameras encountered on the normal route
   */
  normal_cameras?: Array<CameraOnRoute>;
  /**
   * Cameras encountered on the avoidance route
   */
  avoidance_cameras?: Array<CameraOnRoute>;
  /**
   * Percentage increase in distance for the avoidance route
   */
  distance_increase_percent: number;
  /**
   * Percentage increase in duration for the avoidance route
   */
  duration_increase_percent?: number;
  /**
   * Routing strategy used (e.g. "normal", "iterative", "aggressive-polygon")
   */
  strategy: string;
};

export type RouteComparisonSuccess = {
  ok: true;
  result: RouteComparisonResult;
};

export type DirectionsRequest = {
  start: Coordinate;
  end: Coordinate;
  /**
   * Camera avoidance radius in meters
   */
  avoidance_distance?: number;
  /**
   * Camera profiles to avoid (filters which camera types to consider)
   */
  enabled_profiles?: Array<NodeProfile>;
  /**
   * If true, include a GeoJSON MultiPolygon of avoided areas in the response
   */
  show_exclusion_zone?: boolean;
};

export type DirectionsResult = {
  route: RouteGeometry;
  /**
   * GeoJSON Feature with MultiPolygon geometry showing avoided areas (only present when show_exclusion_zone is true)
   */
  exclusion_zone?: unknown;
};

export type DirectionsSuccess = {
  ok: true;
  result: DirectionsResult;
};

export type ErrorResponse = {
  ok: false;
  /**
   * Human-readable error message
   */
  error: string;
};

export type CompareRoutesData = {
  body: RouteComparisonRequest;
  path?: never;
  query?: never;
  url: "/v1/route";
};

export type CompareRoutesErrors = {
  /**
   * Invalid request parameters
   */
  400: ErrorResponse;
  /**
   * Internal server error
   */
  500: ErrorResponse;
};

export type CompareRoutesError = CompareRoutesErrors[keyof CompareRoutesErrors];

export type CompareRoutesResponses = {
  /**
   * Route comparison result
   */
  200: RouteComparisonSuccess | ErrorResponse;
};

export type CompareRoutesResponse =
  CompareRoutesResponses[keyof CompareRoutesResponses];

export type GetDirectionsData = {
  body: DirectionsRequest;
  path?: never;
  query?: never;
  url: "/v1/directions";
};

export type GetDirectionsErrors = {
  /**
   * Invalid request parameters
   */
  400: ErrorResponse;
  /**
   * Internal server error
   */
  500: ErrorResponse;
};

export type GetDirectionsError = GetDirectionsErrors[keyof GetDirectionsErrors];

export type GetDirectionsResponses = {
  /**
   * Avoidance route directions
   */
  200: DirectionsSuccess | ErrorResponse;
};

export type GetDirectionsResponse =
  GetDirectionsResponses[keyof GetDirectionsResponses];

export type ClientOptions = {
  baseUrl:
    | "http://localhost:3001/api"
    | "https://alprwatch.org/api"
    | (string & {});
};
